\section{Introduction}
\label{sect:introduction}

Requirements Engineering (RE) is an approach to assess the role of a future information system within a human or automated environment. An important goal in RE is to produce a consistent and comprehensive set of requirements covering different aspects of the system, such as general functional requirements, operational environment constraints, and so-called non-functional requirements such as security and performance. 

Among the initial activities in RE are the ``early-phase'' requirements engineering activities, which include those that consider how the intended system should meet organizational goals, why it is needed, what alternatives may exist, what the implications of the alternatives are for different stakeholders, and how the interests and concerns of stakeholders might be addressed~\cite{yu1997towards}. These activities fall under the umbrella of goal modeling. There are a large number of established RE methods using goal models in the early stage of requirements analysis (e.g.,~\cite{liu2004designing,donzelli2004goal,dardenne1993goal,chung2012non,castro2002towards}, overviews can be found in~\cite{van2001goal,kavakliL05}). Several goal modeling languages have been developed in the last two decades as well. The most popular ones include $i*$~\cite{Yu:1997:TMR:827255.827807}, Keep All Objects Satisfied (KAOS)~\cite{van2008requirements}, the NFR framework~\cite{chung2012non}, \textsc{Tropos}~\cite{giorgini2005goal}, the Business Intelligence Model (BIM)~\cite{horkoff2014strategic}, and the Goal-oriented Requirements Language (GRL)~\cite{Amyot:2010:EGM:1841349.1841356}.

A goal model is often the result of a discussion process between a group of stakeholders. For small-sized systems, goal models are usually constructed in a short amount of time, involving stakeholders with a similar background. Therefore, it is often not necessary to record all of the details of the discussion process that led to the final goal model. However, goal models for many complex, real-world information systems -- e.g., air-traffic management systems, systems that support industrial production processes, or government and healthcare services -- are not constructed in a short amount of time, but rather over the course of several workshops with stakeholders and requirements engineers. In such situations, failing to record the discussions underlying a goal model in a structured manner may harm the success of the RE phase of system development. 

%First, it is well-known that stakeholders' preferences are rarely absolute, relevant, stable, or consistent~\cite{march1978bounded}. Therefore, it is possible that a stakeholder changes his or her opinion about a modeling decision in between two goal modeling sessions, which may require revisions of the goal model. If previous preferences and opinions are not stored explicitly, it is not straightforward to remind stakeholders of their previous opinions which can result in unnecessary discussions and revisions. As the number of participants increases, revising the goal model based on changing preferences can take up a significant amount of time. 

%Second, other stakeholders, such as new developers on the team who were not the original authors of the goal model, may have to make sense of the goal model, for instance, to use it as an input in a later RE stage or at the design and development phase. If these users have no knowledge of the underlying rationale of the goal model, it may not only be more difficult to understand the model, but they may also end up having the same discussions as the previous group of stakeholders.

%Third, alternative and different ideas and opposing views that could potentially have led to different goal models could be lost. For instance, a group of stakeholders specifying a goal model for a user interface may decide to reduce the two goals ``easy to use'' and ``fast'' to one goal ``easy to use''. Thus, the resulting goal model merely contains the goal ``easy to use'', but the discussion as well as the decision to reject the goal ``fast'' are lost. This leads to a poor understanding of the problem and solution domain. In fact, empirical data suggest that this is an important reason of RE project failure~\cite{curtis1988field}. 

%Fourth and finally, in goal models in general the rationale behind any modeling decision is static and changing these rationales does not immediately impact the goal models. That is, current goal modeling languages have limited support for reasoning about changing beliefs and opinions, and their effect on the goal model. A stakeholder may change his or her opinion, but it is not always directly clear what its effect is on the goal model. Similarly, with existing goal modelling languages one can change a part of the goal model, but it is not possible to reason about whether or not this new goal model is consistent with the underlying beliefs and arguments. This becomes more problematic if the participants constructing the goal model change, since modeling decisions made by one group of stakeholders may conflict with the underlying beliefs put forward by another group of stakeholders.

%FB: I changed the text above to that below. The above 4 reasons overlap in some cases, I tried to make this more concise.

The first difficulty is that the goal modeling phase, particularly in large projects, is dynamic and that goal models continuously change and evolve. Stakeholders' preferences are rarely absolute, relevant, stable, or consistent~\cite{march1978bounded}, and stakeholders may change their opinion about a modeling decision in between two goal modeling sessions, which in turn may require revisions of the goal model. If the rationales behind these revisions are not properly documented, alternative ideas and opposing views that could potentially have led to different goal models are lost, as the resulting goal model only shows the end product of a long process and not the discussions during the modeling process. Furthermore, other stakeholders, such as developers who were not the original authors of the goal model, may have to make sense of a goal model in order to, for example, use it as input in a later RE stage or in the development phase. If preferences, opinions and rationales behind the goal models are not stored explicitly, it may not only be more difficult to understand the model, but the stakeholders may also end up having the same unnecessary discussions throughout the goal modeling phase.

A further problem is that the rationale behind goal modeling decisions is usually static, that is, current goal modeling languages have limited support for reasoning about changing beliefs and opinions, and their effect on the goal model. A stakeholder may change his or her opinion, but it is not always directly clear what its effect is on the goal model. Similarly, with existing goal modelling languages one can change a part of the goal model, but it is not possible to reason about whether or not this new goal model is consistent with the underlying beliefs and arguments. This becomes even more problematic if the stakeholders constructing the goal model change, since modeling decisions made by one group of stakeholders may conflict with the underlying beliefs of another group of stakeholders. The disconnect between the goal models and their underlying beliefs and opinions may further lead to a poor understanding of the problem and solution domain, which is an important reason of RE project failure~\cite{curtis1988field}. 

To summarize, what is needed is a way of recording the rationales (beliefs, opinions, discussions, ideas) underlying a goal model. It should be possible to see how these rationales changed during the goal modeling process, and the rationales should be clearly linked to the various elements of the resulting goal model. In order to be able to do this, we propose a framework with tool-support that combines traditional goal modeling approaches with argumentation techniques from Artificial Intelligence (AI) research~\cite{BenchCaponDunne2007}. We have identified \textbf{five important requirements} for our framework: 

\begin{enumerate}
\item 
The argumentation techniques should be close to the actual discussions of stakeholders or designers in the early requirements engineering phase.
\item 
The framework must have formal traceability links between elements of the goal model and underlying arguments.
\item 
Using these traceability links, it must be possible to compute the effect of changes in the underlying argumentation on the goal model, and vice versa.
\item 
There should be a methodology for the framework to guide the practitioners in its application in real cases.
\item 
The framework must have software tool support.
\end{enumerate}

%In this context, the main research question is: 

%\begin{quote}
%\textbf{RQ.} What are the constructs, mechanisms and rules for developing a framework that formally captures the discussions between stakeholders such that it can generate goal models?
%\end{quote}

%FB: I deleted the research question. I think that the requirements already nicely capture exactly what our goal is in the paper. We can rephrase this goal as an RQ, but what does this buy us? Also, the RQ introduces new terminology (construct, mechanisms, rules), to which we have to explicitly refer later in the paper (e.g. we found mechanisms A, B, rules R1, R2, etc.). 

Following on from our previous work \cite{vanzee-etal:renext2015,vanZee-etal:er2016}, we develop a framework called \emph{RationalGRL}, which combines the Goal-oriented Requirements Language (GRL)~\cite{Amyot:2010:EGM:1841349.1841356} with a technique from argumentation theory and discourse modeling called \emph{argument schemes} (or argumentation schemes~\cite{walton-etal2008}). Argument schemes are reusable patterns of reasoning that capture the typical ways in which humans argue and reason. Associated with argumentation schemes are so-called \emph{critical questions}, which can point to typical sources of doubt or implicit assumptions people make when arguing in a particular way. Argument schemes they are very well suited for modeling discussions about a goal model, as they can guide users in systematically deriving conclusions and making assumptions explicit~\cite{murukannaiah2015}. 

One argument scheme that is important when reasoning about goals is the argument scheme for practical reasoning~\cite{walton1990,atkinson2007}, which has been used for, among other things, dialogues about safety critical actions \cite{tolchinsky2012deliberation} and software design discussions~\cite{BlackEtal2013}. Inspired by the work on practical reasoning from Artificial Intelligence, most notably Atkinson and Bench-Capon~\cite{atkinson2007}, we have developed a list of argument schemes that can be used to analyse and guide stakeholders' discussions about goal models. Our approach thus provides a rationalization to the elements of the goal model in terms of underlying arguments, and helps in understanding why parts of the model have been accepted and others have been rejected. Our list of argument schemes was constructed by performing an extensive case study in which we analyzed a set of transcripts containing more than 4 hours of discussions among designers of a traffic simulator information system. This ensures that the argumentation schemes we propose are close to actual real-world discussions stakeholders have (\textbf{requirement 1}).  

The meta-model of the RationalGRL framework clearly specifies the traceability links between the arguments based on the schemes and the GRL models (\textbf{requirement 2}). In addition to this meta-model, we provide formal semantics for RationalGRL by formalising the GRL language in propositional logic and rendering arguments about a GRL model as a formal argumentation framework~\cite{Dung1995}. We then formally capture the link between argumentation and goal modelling as a set of algorithms for applying argument schemes and critical questions about goal models. These formal traceability links allow us to compute the effect of the arguments and counterarguments proposed in a discussion on a GRL model (\textbf{requirement 3}). In other words, we can determine whether the elements of a GRL model are acceptable given potentially contradictory opinions of stakeholders. Thus, we add a new formal evaluation technique for goal models that allows us to assess the \emph{acceptability} of elements of a goal model (in addition to their \emph{satisfiability}~\cite{Amyot:2010:EGM:1841349.1841356}).

Because we want RE practitioners in the field to be able to use our RationalGRL framework (\textbf{requirement 4}), we also propose a methodology for using RationalGRL, which consists of developing goal models and posing arguments based on schemes in an integrated way. To show that the RationalGRL methodology can be used in a real case, we illustrate the steps of our methodology with the traffic simulator case study. Finally, we have developed a web-based prototype\footnote{\url{insertURL}} for building goal models and arguing about them, which acts as a supporting tool to the RationalGRL methodology (\textbf{requirement 5}). 

\todo{F}{all}{check text below when we finish the paper}
 
The rest of this article is organized as follows. Section~\ref{sect:background} introduces our running example, the Goal-oriented Requirements Language (GRL)~\cite{Amyot:2010:EGM:1841349.1841356}, the Practical Reasoning Argument Scheme (PRAS)~\cite{atkinson2007} and discusses some of our previous work on combining GRL and PRAS. Section~\ref{sect:overview} provides a brief and high-level overview of our framework, together with a metamodel and the methodology. Section~\ref{sect:gmas} contains an in depth explanation of how we obtained an initial set of argument schemes and critical questions by annotating transcripts from discussions about an information system, and in Section~\ref{sect:examples} we provide several examples of these schemes and questions. In Section~\ref{sect:formalframework} we provide formal semantics for GRL and show how argumentation semantics \cite{Dung1995} can be used to compute which arguments are accepted and which are rejected. We also develop various algorithms for the argument schemes in this section. In Section~\ref{sect:tool} we provide a brief overview of the prototype tool we developed for RationalGRL. Finally, Section~\ref{sect:discussion} contains a discussion, covering related work, future work, and a conclusion.